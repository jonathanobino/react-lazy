{"version":3,"file":"./dist/index.js","mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,EAAQG,QAAQ,UACR,mBAAXC,QAAyBA,OAAOC,IAC9CD,OAAO,CAAC,SAAUJ,GACQ,iBAAZC,QACdA,QAAmB,UAAID,EAAQG,QAAQ,UAEvCJ,EAAgB,UAAIC,EAAQD,EAAY,OAR1C,CASGO,MAAM,SAASC,GAClB,M,kCCVAL,EAAOD,QAAUM,ICCbC,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaV,QAGrB,IAAIC,EAASM,EAAyBE,GAAY,CAGjDT,QAAS,IAOV,OAHAY,EAAoBH,GAAUR,EAAQA,EAAOD,QAASQ,GAG/CP,EAAOD,QCpBfQ,EAAoBK,EAAKZ,IACxB,IAAIa,EAASb,GAAUA,EAAOc,WAC7B,IAAOd,EAAiB,QACxB,IAAM,EAEP,OADAO,EAAoBQ,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,GCLRN,EAAoBQ,EAAI,CAAChB,EAASkB,KACjC,IAAI,IAAIC,KAAOD,EACXV,EAAoBY,EAAEF,EAAYC,KAASX,EAAoBY,EAAEpB,EAASmB,IAC5EE,OAAOC,eAAetB,EAASmB,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MCJ3EX,EAAoBY,EAAI,CAACK,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,GCClFlB,EAAoBsB,EAAK9B,IACH,oBAAX+B,QAA0BA,OAAOC,aAC1CX,OAAOC,eAAetB,EAAS+B,OAAOC,YAAa,CAAEC,MAAO,WAE7DZ,OAAOC,eAAetB,EAAS,aAAc,CAAEiC,OAAO,K,mPCHxC,SAASC,EAAsBC,EAASC,GAAO,I,IAAA,G,GAClCC,EAAAA,EAAAA,UAAS,CACjCC,KAAM,GACNC,SAAS,I,EAHiD,E,8zBACrDC,EADqD,KAC9CC,EAD8C,KAM5D,SAASC,IACPC,QAAQC,IAAI,eACZH,EAAS,CACPF,SAAS,EACTD,KAAMF,EAAME,OAiBhB,OAbAO,EAAAA,EAAAA,YAAU,WAMR,YALuBlC,IAApBwB,EAAQW,SACTC,EAAcC,WAAW,CACvBb,QAASA,EAAQW,QACjBV,MAAAA,EACAM,cAAAA,IACG,kBAAMK,EAAcE,sBAAsB,CAC/Cd,QAAQA,EAAQW,QAChBV,MAAAA,EACAM,cAAAA,OAEF,IAEKF,EAGT,IAAMO,EAAgB,CACpBG,SAAU,I,0GC9BG,SAASC,EAAoBf,GAE1C,I,IAAMgB,GAAMC,EAAAA,EAAAA,UACRC,EAAaC,EAAgBH,EAAKhB,GAHW,G,GAIxBC,EAAAA,EAAAA,UAAS,OAAD,QAC/BmB,gBAAiB,OAAF,OAASF,EAAWhB,KAApB,MACZF,EAAMqB,Q,EANsC,E,8zBAI1CA,EAJ0C,KAIpCC,EAJoC,KAgBjD,OAPAb,EAAAA,EAAAA,YAAU,WACRa,EAAS,OAAD,QACNF,gBAAiB,OAAF,OAASF,EAAWhB,KAApB,MACZF,EAAMqB,UAEX,CAACH,IAGD,yBACEK,UAAWvB,EAAMuB,UACjBF,MAAOA,EACPL,IAAKA,I,o5BDaXL,EAAca,aAAe,gBAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,IAAKC,EAAhB,EAAgBA,KAAhB,OAC3BC,OAAOC,QAAUD,OAAOE,YAAcL,EAASC,GAC/CE,OAAOG,QAAUH,OAAOI,WAAaP,EAASE,GAEhDhB,EAAcsB,qBAAuB,SAACC,GAEpC,IAF6C,EAE3BA,EAAKnC,QACgBoC,wBAA/BT,EAHqC,EAGrCA,IAAKC,EAHgC,EAGhCA,KAAMS,EAH0B,EAG1BA,MACnB,wBACKF,EADL,CAEER,IAAAA,EACAC,KAAAA,EACAS,MAAAA,KAKJzB,EAAcC,WAAa,SAAU,GAAiC,IAAhCb,EAAgC,EAAhCA,QAASC,EAAuB,EAAvBA,MAAOM,EAAgB,EAAhBA,cAAgB,EAEvCP,EAAQoC,wBAA7BT,EAF4D,EAE5DA,IAAKC,EAFuD,EAEvDA,KAAMS,EAFiD,EAEjDA,MACnBzB,EAAcG,SAASuB,KAAK,CAC1BtC,QAAAA,EACA2B,IAAAA,EACAC,KAAAA,EACAS,MAAAA,EACAX,OAAQzB,EAAMyB,QAAU,IACxBnB,cAAAA,IAG8C,mBAArCK,EAAc2B,qBACvB3B,EAAc2B,mBAAqBV,OAAOW,sBACxC5B,EAAc6B,gBAMpB7B,EAAc6B,aAAe,WAE3B,GAAsC,IAAlC7B,EAAcG,SAAS2B,OACzB9B,EAAc+B,0BACT,CAGL,IADA,IAAIC,EAAc,GACTC,EAAI,EAAGA,EAAIjC,EAAcG,SAAS2B,OAAQG,IAC7CjC,EAAca,aAAab,EAAcG,SAAS8B,MACpDD,EAAYN,KAAKO,GAEjBjC,EAAcG,SAAS8B,GAAGtC,iBAI1BqC,EAAYF,OAAS,IACvB9B,EAAcG,SAAWH,EAAcG,SAAS+B,QAC9C,SAACX,EAAMY,GAAP,OAAkBH,EAAYI,SAASD,OAG3CnC,EAAcG,SAAWH,EAAcG,SAASkC,KAAI,SAACd,GAAD,OAClDvB,EAAcsB,qBAAqBC,MAErCvB,EAAc2B,mBAAqBV,OAAOW,sBACxC5B,EAAc6B,gBAMpB7B,EAAc+B,oBAAsB,WAClCd,OAAOqB,qBAAqBtC,EAAc2B,qBAI5C3B,EAAcE,sBAAwB,SAAUqC,GAC9CvC,EAAcG,SAAWH,EAAcG,SAAS+B,QAC9C,SAACX,GAAD,OAAUA,IAASgB,MAIvBvC,EAAc2B,oBAAqB,E,IE/Gda,EAAAA,SAAAA,I,6rBACnB,WAAYnD,GAAO,O,4FAAA,qBACXA,G,8CAEC,WACP,OACE,yBACEoD,IAAKC,KAAKjD,MAAMF,KAChBoD,IAAKD,KAAKrD,MAAMsD,IAChBjC,MAAOgC,KAAKhC,MACZE,UAAW8B,KAAKrD,MAAMuB,UACtBP,IAAK,SAACuC,GAAD,OAAW,EAAKC,QAAUD,O,2CAKN,KAAzBF,KAAKrD,MAAMuB,YAAkD,IAA9B8B,KAAKrD,MAAMyD,iBAC5CJ,KAAKhC,MAAL,eACEqC,UAAW,QACXC,SAAU,SACPN,KAAKrD,MAAMqB,a,sEApBD8B,CAAkBxC,G,o5BA0BvCwC,EAAUS,aAAe,CACvBvC,MAAO,GACPE,UAAW,GACXkC,gBAAgB,G,IC7BGI,EAAAA,SAAAA,I,6rBACnB,WAAY7D,GAAO,O,4FAAA,qBACXA,G,8CAEC,WACP,OACE,4BACE8D,OAAQT,KAAKrD,MAAM8D,OACnBC,UAAWV,KAAKrD,MAAM+D,UACtBX,IAAKC,KAAKjD,MAAMF,KAChB8D,YAAaX,KAAKrD,MAAMgE,YACxBC,kBAAmBZ,KAAKrD,MAAMiE,kBAC9BC,gBAAiBb,KAAKrD,MAAMkE,gBAC5B7C,MAAOgC,KAAKhC,MACZL,IAAK,SAACuC,GAAD,OAAW,EAAKC,QAAUD,O,2CAKnCF,KAAKhC,MAAL,eACEsC,SAAU,QACPN,KAAKrD,MAAMqB,Y,sEArBCwC,CAAkBlD,G,o5BA0BvCkD,EAAUD,aAAe,CACvBE,OAAQ,MACRC,UAAW,KACXC,YAAa,KACbC,kBAAmB,OACnBC,gBAAiB,Q,IC/BEC,EAAAA,SAAAA,I,6rBACnB,WAAYnE,GAAO,O,4FAAA,qBACXA,G,8CAEC,WACHoE,EAAWf,KAAKjD,MAAMD,QAAUkD,KAAKrD,MAAMqE,SAAW,8BAE1D,OACE,yBACEhD,MAAOgC,KAAKhC,MACZE,UAAW8B,KAAKrD,MAAMuB,UACtBP,IAAK,SAACuC,GAAD,OAAW,EAAKC,QAAUD,IAE9Ba,K,2CAMLf,KAAKhC,MAAQpC,OAAOqF,OAAO,GAAIjB,KAAKrD,MAAMqB,OACrCgC,KAAKjD,MAAMF,MAASmD,KAAKrD,MAAMuB,WAAc8B,KAAKhC,MAAMyC,SAC3DT,KAAKhC,MAAMyC,OAAS,c,sEArBLK,CAAsBxD,GAyB3CwD,EAAcP,aAAe,CAC3BvC,MAAO,GACPE,UAAW,K","sources":["webpack://LazyReact/webpack/universalModuleDefinition","webpack://LazyReact/external umd {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://LazyReact/webpack/bootstrap","webpack://LazyReact/webpack/runtime/compat get default export","webpack://LazyReact/webpack/runtime/define property getters","webpack://LazyReact/webpack/runtime/hasOwnProperty shorthand","webpack://LazyReact/webpack/runtime/make namespace object","webpack://LazyReact/./src/baseClass.js","webpack://LazyReact/./src/lazyLoadBackgroundImage.js","webpack://LazyReact/./src/lazyLoadImage.js","webpack://LazyReact/./src/lazyLoadFrame.js","webpack://LazyReact/./src/lazyLoadComponent.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"LazyReact\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"LazyReact\"] = factory(root[\"React\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__787__) {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__787__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React, { useState, useEffect } from 'react' // eslint-disable-line no-unused-vars\n\nexport default function useRenderIfInViewPort(element, props) {\n  const [state, setState] = useState({\n    link: '',\n    visible: false,\n  })\n\n  function makeItVisible () {\n    console.log('it\\'s called');\n    setState({\n      visible: true,\n      link: props.link,\n    })\n  }\n\n  useEffect(() => {\n    if(element.current !== undefined)\n      CheckIfRender.addElement({\n        element: element.current,\n        props,\n        makeItVisible})\n    return () => CheckIfRender.removeElementFromList({\n      element:element.current,\n      props,\n      makeItVisible\n    })\n  },[])\n\n  return state\n}\n\nconst CheckIfRender = {\n  elements: [],\n}\n\nCheckIfRender.isInViewPort = ({ offset, top, left }) =>\n  window.scrollY + window.innerHeight + offset > top &&\n  window.scrollX + window.innerWidth + offset > left\n\nCheckIfRender.calculateNewPosition = (elem) => {\n\n  const reference = elem.element\n  const { top, left, right } = reference.getBoundingClientRect()\n  return {\n    ...elem,\n    top,\n    left,\n    right,\n  }\n\n}\n\nCheckIfRender.addElement = function ({element, props, makeItVisible}) {\n  //the distance from the pixel 0,0 and the top of the element\n  const { top, left, right } = element.getBoundingClientRect()\n  CheckIfRender.elements.push({\n    element,\n    top,\n    left,\n    right,\n    offset: props.offset || 100,\n    makeItVisible\n  })\n  //check if has already been started the rAF cycle\n  if (typeof CheckIfRender.isListenerAttached !== 'function') {\n    CheckIfRender.isListenerAttached = window.requestAnimationFrame(\n      CheckIfRender.eventHandler\n    )\n  }\n}\n\n\nCheckIfRender.eventHandler = function () {\n  //if there is no more element to lazy load just remove the listeners/rAF\n  if (CheckIfRender.elements.length === 0) {\n    CheckIfRender.removeScrollHandler()\n  } else {\n    //save every index of elements that has been loaded\n    let savedIndexs = []\n    for (let i = 0; i < CheckIfRender.elements.length; i++) {\n      if (CheckIfRender.isInViewPort(CheckIfRender.elements[i])) {\n        savedIndexs.push(i)\n        //make the element visible\n        CheckIfRender.elements[i].makeItVisible() // hope this works\n      }\n    }\n    //remove elements that has already been loaded from the list of the elements\n    if (savedIndexs.length > 0)\n      CheckIfRender.elements = CheckIfRender.elements.filter(\n        (elem, index) => !savedIndexs.includes(index)\n      )\n    //update the coordinates of the elements\n    CheckIfRender.elements = CheckIfRender.elements.map((elem) =>\n      CheckIfRender.calculateNewPosition(elem)\n    )\n    CheckIfRender.isListenerAttached = window.requestAnimationFrame(\n      CheckIfRender.eventHandler\n    )\n  }\n}\n\n\nCheckIfRender.removeScrollHandler = function () {\n  window.cancelAnimationFrame(CheckIfRender.isListenerAttached)\n}\n\n//When an element is unloaded remove it from the list of elements that are waiting to be lazy-loaded\nCheckIfRender.removeElementFromList = function (toRemove) {\n  CheckIfRender.elements = CheckIfRender.elements.filter(\n    (elem) => elem !== toRemove\n  )\n}\n\nCheckIfRender.isListenerAttached = false\n\nexport { CheckIfRender }\n","import React ,{useState, useEffect, useRef} from 'react' // eslint-disable-line no-unused-vars\nimport useIsInViewPort from './baseClass'\n\nexport default function LazyBackgroundImage(props) {\n\n  const ref = useRef();\n  let isViewable = useIsInViewPort(ref, props);\n  const [style,setStyle] = useState({\n    backgroundImage: `url(${isViewable.link})`,\n    ...props.style,\n  })\n\n  useEffect(()=>{\n    setStyle({\n      backgroundImage: `url(${isViewable.link})`,\n      ...props.style,\n    })\n  },[isViewable])\n\n  return (\n    <div\n      className={props.className}\n      style={style}\n      ref={ref}\n    />\n  )\n}\n","import React from 'react' // eslint-disable-line no-unused-vars\nimport CheckIfRender from './baseClass'\n\nexport default class LazyImage extends CheckIfRender {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    return (\n      <img\n        src={this.state.link}\n        alt={this.props.alt}\n        style={this.style}\n        className={this.props.className}\n        ref={(node) => (this.domNode = node)}\n      />\n    )\n  }\n  componentWillMount() {\n    if (this.props.className === '' && this.props.preserveAspect === false) {\n      this.style = {\n        minHeight: '300px',\n        minWidth: '300px',\n        ...this.props.style,\n      }\n    }\n  }\n}\n\nLazyImage.defaultProps = {\n  style: {},\n  className: '',\n  preserveAspect: true,\n}\n","import React from 'react' // eslint-disable-line no-unused-vars\nimport CheckIfRender from './baseClass'\n\nexport default class LazyFrame extends CheckIfRender {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    return (\n      <iframe\n        height={this.props.height}\n        scrolling={this.props.scrolling}\n        src={this.state.link}\n        frameBorder={this.props.frameBorder}\n        allowTransparency={this.props.allowTransparency}\n        allowFullScreen={this.props.allowFullScreen}\n        style={this.style}\n        ref={(node) => (this.domNode = node)}\n      />\n    )\n  }\n  componentWillMount() {\n    this.style = {\n      minWidth: '100%',\n      ...this.props.style,\n    }\n  }\n}\n\nLazyFrame.defaultProps = {\n  height: '500',\n  scrolling: 'no',\n  frameBorder: 'no',\n  allowTransparency: 'true',\n  allowFullScreen: 'true',\n}\n","import React from 'react' // eslint-disable-line no-unused-vars\nimport CheckIfRender from './baseClass'\n\nexport default class LazyComponent extends CheckIfRender {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    let toRender = this.state.visible ? this.props.children : <div />\n\n    return (\n      <div\n        style={this.style}\n        className={this.props.className}\n        ref={(node) => (this.domNode = node)}\n      >\n        {toRender}\n      </div>\n    )\n  }\n\n  componentWillMount() {\n    this.style = Object.assign({}, this.props.style)\n    if (!this.state.link && !this.props.className && !this.style.height)\n      this.style.height = '300px'\n  }\n}\n\nLazyComponent.defaultProps = {\n  style: {},\n  className: '',\n}\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__787__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","useRenderIfInViewPort","element","props","useState","link","visible","state","setState","makeItVisible","console","log","useEffect","current","CheckIfRender","addElement","removeElementFromList","elements","LazyBackgroundImage","ref","useRef","isViewable","useIsInViewPort","backgroundImage","style","setStyle","className","isInViewPort","offset","top","left","window","scrollY","innerHeight","scrollX","innerWidth","calculateNewPosition","elem","getBoundingClientRect","right","push","isListenerAttached","requestAnimationFrame","eventHandler","length","removeScrollHandler","savedIndexs","i","filter","index","includes","map","cancelAnimationFrame","toRemove","LazyImage","src","this","alt","node","domNode","preserveAspect","minHeight","minWidth","defaultProps","LazyFrame","height","scrolling","frameBorder","allowTransparency","allowFullScreen","LazyComponent","toRender","children","assign"],"sourceRoot":""}