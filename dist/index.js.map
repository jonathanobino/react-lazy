{"version":3,"file":"./dist/index.js","mappings":"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","sources":["webpack://LazyReact/webpack/universalModuleDefinition","webpack://LazyReact/external umd {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://LazyReact/webpack/bootstrap","webpack://LazyReact/webpack/runtime/compat get default export","webpack://LazyReact/webpack/runtime/define property getters","webpack://LazyReact/webpack/runtime/hasOwnProperty shorthand","webpack://LazyReact/webpack/runtime/make namespace object","webpack://LazyReact/./src/baseClass.js","webpack://LazyReact/./src/lazyLoadBackgroundImage.js","webpack://LazyReact/./src/lazyLoadImage.js","webpack://LazyReact/./src/lazyLoadFrame.js","webpack://LazyReact/./src/lazyLoadComponent.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"LazyReact\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"LazyReact\"] = factory(root[\"React\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__787__) {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__787__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React, { useState, useEffect } from 'react' // eslint-disable-line no-unused-vars\n\nexport default function useRenderIfInViewPort(element, props) {\n  const [state, setState] = useState({\n    link: '',\n    visible: false,\n  })\n\n  function makeItVisible() {\n    setState({\n      visible: true,\n      link: props.link,\n    })\n  }\n\n  useEffect(() => {\n    if (element.current !== undefined)\n      CheckIfRender.addElement({\n        element: element.current,\n        props,\n        makeItVisible,\n      })\n    return () =>\n      CheckIfRender.removeElementFromList({\n        element: element.current,\n        props,\n        makeItVisible,\n      })\n  }, [])\n\n  return state\n}\n\nconst CheckIfRender = {\n  elements: [],\n}\n\nCheckIfRender.isInViewPort = ({ offset, top, left }) =>\n  window.scrollY + window.innerHeight + offset > top &&\n  window.scrollX + window.innerWidth + offset > left\n\nCheckIfRender.calculateNewPosition = (elem) => {\n  const reference = elem.element\n  const { top, left, right } = reference.getBoundingClientRect()\n  return {\n    ...elem,\n    top,\n    left,\n    right,\n  }\n}\n\nCheckIfRender.addElement = function ({ element, props, makeItVisible }) {\n  //the distance from the pixel 0,0 and the top of the element\n  const { top, left, right } = element.getBoundingClientRect()\n  CheckIfRender.elements.push({\n    element,\n    top,\n    left,\n    right,\n    offset: props.offset || 100,\n    makeItVisible,\n  })\n  //check if has already been started the rAF cycle\n  if (typeof CheckIfRender.isListenerAttached === 'boolean') {\n    CheckIfRender.isListenerAttached = window.requestAnimationFrame(\n      CheckIfRender.eventHandler\n    )\n  }\n}\n\nCheckIfRender.eventHandler = function () {\n  //if there is no more element to lazy load remove the listener/rAF\n  if (CheckIfRender.elements.length === 0) {\n    CheckIfRender.removeScrollHandler()\n  } else {\n    CheckIfRender.elements.forEach((elem, i) => {\n      // if element is in viewPort make it visible\n      if (CheckIfRender.isInViewPort(elem)) {\n        elem.makeItVisible()\n        // remove element from the list of elements to lazy load\n        CheckIfRender.removeElementFromList(elem)\n      } else {\n        // if the element is not shown update his position\n        CheckIfRender.elements[i] = CheckIfRender.calculateNewPosition(elem)\n      }\n    })\n    CheckIfRender.isListenerAttached = window.requestAnimationFrame(\n      CheckIfRender.eventHandler\n    )\n  }\n}\n\nCheckIfRender.removeScrollHandler = function () {\n  window.cancelAnimationFrame(CheckIfRender.isListenerAttached)\n}\n\n//When an element is unloaded remove it from the list of elements that are waiting to be lazy-loaded\nCheckIfRender.removeElementFromList = function (toRemove) {\n  CheckIfRender.elements = CheckIfRender.elements.filter(\n    (elem) => elem !== toRemove\n  )\n}\n\nCheckIfRender.isListenerAttached = false\n\nexport { CheckIfRender }\n","import React, { useState, useEffect, useRef } from 'react' // eslint-disable-line no-unused-vars\nimport useIsInViewPort from './baseClass'\n\nexport default function LazyBackgroundImage(props) {\n  const ref = useRef()\n  let isViewable = useIsInViewPort(ref, props)\n  const [style, setStyle] = useState({\n    backgroundImage: `url(${isViewable.link})`,\n    ...props.style,\n  })\n\n  useEffect(() => {\n    setStyle({\n      backgroundImage: `url(${isViewable.link})`,\n      ...props.style,\n    })\n  }, [isViewable])\n\n  return (\n    <div className={props.className} style={style} ref={ref} >\n      {props.children}\n    </div>\n  )\n}\n","import React, { useRef } from 'react' // eslint-disable-line no-unused-vars\nimport useIsInViewPort from './baseClass'\n\nexport default function LazyImage(props) {\n  const ref = useRef()\n  const isViewable = useIsInViewPort(ref, props)\n\n  return (\n    <img\n      src={isViewable.link}\n      alt={props.alt}\n      style={props.style}\n      className={props.className}\n      ref={ref}\n    />\n  )\n}\n","import React, { useRef } from 'react' // eslint-disable-line no-unused-vars\nimport useIsInViewPort from './baseClass'\n\nexport default function LazyFrame(props) {\n  const ref = useRef()\n  let isViewable = useIsInViewPort(ref, props)\n\n  return (\n    <iframe\n      height={props.height || '500'}\n      scrolling={props.scrolling || 'no'}\n      src={isViewable.link}\n      frameBorder={props.frameBorder || 'no'}\n      allowtransparency={props.allowTransparency || 'true'}\n      allowFullScreen={props.allowFullScreen || true}\n      style={props.style || {}}\n      ref={ref}\n    />\n  )\n}\n","import React, { useRef } from 'react' // eslint-disable-line no-unused-vars\nimport useIsInViewPort from './baseClass'\n\nexport default function LazyComponent(props) {\n  const ref = useRef()\n  let isViewable = useIsInViewPort(ref, props)\n\n  const placeHolder = (\n    <div\n      style={\n        props.style\n          ? props.style\n          : {\n              heigt: '300px',\n              width: '300px',\n            }\n      }\n    />\n  )\n\n  return (\n    <div ref={ref}>{isViewable.visible ? props.children : placeHolder}</div>\n  )\n}\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__787__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","useRenderIfInViewPort","element","props","useState","link","visible","state","setState","makeItVisible","useEffect","current","CheckIfRender","addElement","removeElementFromList","elements","LazyBackgroundImage","ref","useRef","isViewable","useIsInViewPort","backgroundImage","style","setStyle","className","children","LazyImage","src","alt","LazyFrame","height","scrolling","frameBorder","allowtransparency","allowTransparency","allowFullScreen","LazyComponent","placeHolder","heigt","width","isInViewPort","offset","top","left","window","scrollY","innerHeight","scrollX","innerWidth","calculateNewPosition","elem","getBoundingClientRect","right","push","isListenerAttached","requestAnimationFrame","eventHandler","length","removeScrollHandler","forEach","i","cancelAnimationFrame","toRemove","filter"],"sourceRoot":""}